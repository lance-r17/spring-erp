@import "../nifty/_variables.less";

/* Variables */

@caret-color                 : lighten(@link-color, 40%);
@caret-hover-color           : darken(@link-color, 15%);


/* BOOTSTRAP'S COMPONENTS */

.form-group {
    &.required {
        label:after {
            content: ' *';
            color: @state-danger;
        }
    }
}

/* DROPDOWN */
/*======================================*/
& when (@dropdown = true) {

    // Sizes
    // ----------------------------------------------
    .dropdown-menu-img{
        margin-top: 15px;
        &-sm{
            min-width: 78px;
        }
        &-md{
            min-width: 96px;
        }
        &-lg{
            min-width: 140px;
        }
    }

    .dropdown {
        .with-caret-bottom-right {
            &:after {
                float: right;
                margin-top: -10px;
                content: '';
                display: block;
                width: 0;
                height: 0;
                border-style: solid;
                border-width: 0 0 10px 10px;
                border-color: transparent transparent @caret-color transparent;
            }
            &:hover {
                &:after {
                    border-color: transparent transparent @caret-hover-color transparent;
                }
            }
        }
    }
}

/* NAVIGATION */
/*======================================*/

.nav-container {
    // position: absolute;
    width: @mainnav-lg-width + 80;
    // left: -@mainnav-lg-width;
    // padding-top: @navbar-height;
    // top:0;
    // bottom: 0;
    z-index: 4;
    min-height: 100%;
    & when (lightness(@mainnav-bg) >= 70%) {
        box-shadow: 0 0 0 1px darken(@body-bg, 7.5%);
    }

    .nav {
        height: 100%;
        background-color: @mainnav-bg;
        > *:not(.popover){
            .nano-pane{
                display: none !important;
            }
        }

        li, 
        .list-header {
            color:darken(@mainnav-color,15%);
        }

        .list-header{
            text-transform: uppercase;
            font-weight: bold;
        }

        .nav-menu-wrap{
            height: 100%
        }

        ul {
            list-style: none;
            padding: 20px;
        }

        li {
            .arrow {
                float: right;
                line-height: 1.42857
            }
            .arrow:before {
                content: '';
                border-style: solid;
                border-width: 0.1em 0.1em 0 0;
                display: inline-block;
                height: 0.4em;
                left: 0;
                position: relative;
                top: 0;
                width: 0.4em;
                .transform(rotate(45deg));
            }

            &.active > a > .arrow:before{
                .transform(rotate(135deg));
            }
            .arrow:before{
                .transition(all .3s);
            }
        }
    }

    .nav-menu{
        a {
            display: block;
            color: @mainnav-color;
            padding: 12px 20px;
            strong{
                font-weight: @font-semibold
            }
        }
        >li {
             margin-bottom: 20px;
            .transition(background-color .5s linear .5s);
            &:last-child {
                margin-bottom: 0;
            }
            >a{
                &:hover, &:active{
                    color: @mainnav-hover-color;
                }
                &.hover{
                    color: @mainnav-hover-color;
                    background-color: lighten(@mainnav-bg,3%);
                    box-shadow:inset 4px 0 0 0 @mainnav-active-state;
                }
            }
        }
        > .active-sub {
            > a, >a:hover{
                color: @mainnav-hover-color;
            }
        }
        > .active {
            .transition(background-color .5s);
            background-color: darken(@mainnav-bg, 3%);
            .active{
                background-color: darken(@mainnav-bg, 5%);
            }
        }
        ul {
            padding: 12px 10px;

            li {
                padding: 12px 10px;
                margin-bottom: 10px;
                &:last-child {
                    margin-bottom: 0;
                }
            }

            ul{
                a{
                    padding: 10px 20px 12px 65px;
                }
            }
        }
        i {
            padding:0 10px 0 0;
        }
        .hide-lg{
            display: none;
        }
    }
}

/* Nestable */
/*======================================*/

.dd {
    position: relative;
    display: block;
    margin: 0;
    padding: 20px;
    max-width: 600px;
    list-style: none;
    font-size: 13px;
    line-height: 20px;

    border: 1px dashed #b6bcbf;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
}

.dd-list { 
    display: block; 
    position: relative; 
    margin: 0; 
    padding: 0; 
    list-style: none; 

    .dd-list { 
        padding-left: 30px; 
    }
}
.dd-collapsed {
    .dd-list { 
        display: none; 
    }
}

.dd-item,
.dd-empty,
.dd-placeholder {
    display: block;
    position: relative;
    margin: 0;
    padding: 0;
    min-height: 20px;
    font-size: 13px;
    line-height: 20px;
}

.dd-handle {
    display: block; 
    margin: 5px 0; 
    padding: 10px 10px; 
    text-decoration: none; 
    border: 1px solid #ebebeb;
    background: #fff;
    -webkit-border-radius: 3px;
            border-radius: 3px;

    &:hover {
        background: #fff; 
    }
}

.dd-item {
    > button { 
        display: block; 
        position: relative; 
        cursor: pointer; 
        float: left; 
        width: 25px; 
        height: 30px; 
        margin: 5px 0; 
        padding: 0; 
        text-indent: 100%; 
        white-space: nowrap; 
        overflow: hidden; 
        border: 0; 
        background: transparent; 
        font-size: 12px; 
        line-height: 1; 
        text-align: center; 
        font-weight: bold; 

        &:before { 
            content: '+'; 
            display: block; 
            position: absolute; 
            width: 100%; text-align: 
            center; text-indent: 0; 
        }

        &[data-action="collapse"] {
            &:before { 
                content: '-'; 
            }
        }
    }
}

.dd-placeholder,
.dd-empty { 
    margin: 5px 0; 
    padding: 0; 
    min-height: 30px; 
    background: #f2fbff; 
    border: 1px dashed #b6bcbf; 
    box-sizing: border-box; 
    -moz-box-sizing: border-box; 
}

.dd-empty { 
    border: 1px dashed #bbb; 
    min-height: 100px; 
    background-color: #e5e5e5;
    background-size: 60px 60px;
    background-position: 0 0, 30px 30px;
}

.dd-dragel { 
    position: absolute; 
    pointer-events: none; 
    z-index: 9999; 

    > .dd-item .dd-handle {
        margin-top: 0; 
    }

    .dd-handle {
        -webkit-box-shadow: 2px 4px 6px 0 rgba(0,0,0,.1);
                box-shadow: 2px 4px 6px 0 rgba(0,0,0,.1);
    }
}


/* Nestable Extras */

.nestable-lists { 
    display: block; 
    clear: both; 
    padding: 30px 0; 
    width: 100%; 
    border: 0; 
    border-top: 2px 
    solid #ddd; 
    border-bottom: 2px 
    solid #ddd; 
}

@media only screen and (min-width: 700px) { 

    .dd + .dd {
        margin-top: 2%;
    }

}

.dd-hover > .dd-handle { background: #2ea8e5 !important; }


/* Nestable Draggable Handles */

.dd3-content { 
    display: block;
    margin: 5px 0;
    padding: 10px 10px 10px 50px; 
    text-decoration: none;
    border: 1px solid #ebebeb;
    background: #fff;
    -webkit-border-radius: 3px;
            border-radius: 3px;

    i {
        padding: 0 10px 0 0
    }
}
.dd-dragel {
    > .dd3-item {
        > .dd3-content { 
            margin: 0; 
        }
    }
}

.dd3-item {
    > button { 
        margin-left: 40px;

        &.pull-right {
            margin-right: 10px;
        }
    }
}

.dd3-handle {
    position: absolute;
    margin: 0; 
    left: 0; 
    top: 0; 
    cursor: pointer; 
    width: 40px; 
    text-indent: 100%; 
    white-space: nowrap; 
    overflow: hidden;
    border: 1px solid #ebebeb;
    background: #fff;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;

    &:before { 
        content: 'â‰¡'; 
        display: block; 
        position: absolute; 
        left: 0; 
        top: 10px; 
        width: 100%; 
        text-align: center; 
        text-indent: 0; 
        color: #ccc; 
        font-size: 20px; 
        font-weight: normal; 
    }

    &:hover { 
        background: #f7f7f7; 
    }
}

